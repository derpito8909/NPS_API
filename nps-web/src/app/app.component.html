<div class="app-shell">
  <header class="app-header" *ngIf="currentUser$ | async as user">
    <div class="app-header-left">
      <span class="app-title">Net Promoter Score App</span>
      <span class="app-user-info"> Rol: {{ user.role }} </span>
    </div>
    <div class="app-header-right">
      <button type="button" class="logout-btn" (click)="logout()">
        Cerrar sesión
      </button>
    </div>
  </header>

  <main class="app-content">
    <router-outlet></router-outlet>
  </main>

  <div class="session-warning-backdrop" *ngIf="sessionWarning$ | async">
    <div class="session-warning-dialog">
      <h3>Sesión inactiva</h3>
      <p>Tu sesión se va a cerrar por inactividad.</p>
      <p>¿Deseas continuar la sesión?</p>
      <div class="session-warning-actions">
        <button type="button" (click)="continueSession()">
          Continuar sesión
        </button>
        <button type="button" (click)="logoutFromWarning()">
          Cerrar sesión
        </button>
      </div>
      <p class="session-warning-note">
        Si no respondes en unos segundos, tu sesión se cerrará automáticamente.
      </p>
    </div>
  </div>
</div>
